<%= bootstrap_form_for(@daily_bill_detail,id:@travel_request.id,html: {id: "daily_bill_detail"},travel_request_id: @travel_request.id,daily_bill_detail_id: @daily_bill_detail.id) do |f| %>
<%= hidden_field_tag :authenticity_token, form_authenticity_token %>
  <%= f.hidden_field :travel_request_id, value:@travel_request.id  %>
  
  <% if @travel_request.is_confirm == true %>
    <div>
      <%= render 'show_travel_request' %>
    </div>
    <div>
     <%#= render 'show_reporting_masters_travel_request' %>
    </div>
  <% else %>
    <div>
     <%= render 'show_travel_request' %>
    </div>
   <div>
     <%#= render 'show_reporting_masters_travel_request' %>
   </div>


    <div class="row">
      <div class="col-sm-3">
          <div class="form-group required">
            <div class="input-group">
              <div class="input-group-addon">
                <%= link_to "", new_travel_expence_type_path,class: "fa fa-plus fa-success",:target => "_blank" %>
              </div>
               <%= f.select :travel_expence_type_id, all_travel_expence_type, {label: 'Expense Type',include_blank: " Select Expense Type"},{onchange:"var a={travel_id:$(this).val(),request_id:$('#daily_bill_detail_travel_request_id').val()}; $.get('/daily_bill_details/select_form',a,function(response){});",class: 'form-control'} %>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div id="first_form"></div>
        <div id="second_form"></div>
        <div id="third_form"></div>
        <div id="forth_form"></div>
      </div>

  <% end %>
<% end %><br>


<script type="text/javascript">
 $(function(){
    $('.input_expence_date').datepicker({
    changeYear:true,
    changeMonth: true,
    yearRange: '-200:+1',
    dateFormat: 'dd-mm-yy' });

    $("#daily_bill_detail").validate({
      rules: {
        "daily_bill_detail[expence_date]":{
          required: true
        },
        "daily_bill_detail[e_place]":{
          required: true
        },
        "daily_bill_detail[travel_expence_type_id]":{
          required: true
        },
        "daily_bill_detail[travel_expence]":{
          required: true
        }
      },
      messages: {
        "daily_bill_detail[expence_date]":{
          required: "Please specify expence date"
        },
        "daily_bill_detail[e_place]":{
          required: "Please specify place"
        },
        "daily_bill_detail[travel_expence_type_id]":{
          required: "Please specify expense type"
        },
        "daily_bill_detail[travel_expence]":{
          required: "Please specify travelling amount"
        }
      },
      errorPlacement: function(error, element) {
       error.css({"color": "red", "font-size": "12px","font-weight" : "normal"})
       error.insertAfter(element.parent(element));
      }
    });
  });
</script>
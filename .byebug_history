c
@employees = EmployeeAttendance.where(day: @from.to_date..@to.to_date,employee_id: @costcenter,is_confirm: false)
@employees = EmployeeAttendance.where("day = ? and is_confirm = ?", @from.to_date..@to.to_date,false).where(employee_id: @costcenter)
@costcenter = JoiningDetail.where(cost_center_id: @costcenter_id,employee_id: @employees).pluck(:employee_id)
c
tp @employees_ind = @emp.indirect_subordinates
tp @employee = @employees + @employees_ind
tp @employee = @employees - @employees_ind
@employee = @employees - @employees_ind
tp @employees_ind = @emp.indirect_subordinates
tp @employees = @emp.subordinates
@employees = @emp.subordinates
@emp = Employee.find(current_user.employee_id)
c
@employee.inject{|s| s}
@employee.inject{|s|}
@employee.inject{|s|, s}
@employee.inject{|s| s}
@employee.inject{|s| s.id}
@employee = @employees - @employees_ind
@employee.inject{|s| s.employee_id}
@employee = @employees - @employees_ind
@employees_ind = @emp.indirect_subordinates
@employee.inject{:employee_id}
@employee.inject{employee_id}
@employee = @employees - @employees_ind
@employee_attendances = EmployeeAttendance.where(day: @from.to_date..@to.to_date,employee_id: @employee.employee_id)
@employee = @employees - @employees_ind
@employee_attendances = EmployeeAttendance.where(day: @from.to_date..@to.to_date,employee_id: @employee.id)
@employee = @employees - @employees_ind
@employee_attendances = EmployeeAttendance.where(day: @from.to_date..@to.to_date)
@employee_attendances = EmployeeAttendance.where(day: @from.to_date..@to.to_date,employee_id: @employee)
@to = params[:employee][:to]
@from = params[:employee][:from]
@employee = @employees - @employees_ind
@employees_ind = @emp.indirect_subordinates
@employees = @emp.subordinates
tp @emp = Employee.find(current_user.employee_id)
@emp = Employee.find(current_user.employee_id)
c
@employee_id = params[:employee_id]
@employee_id = params[:employee_attendance][:employee_id]
@employee_id = params[:employee_id]
c
@employees = EmployeeAttendance.where("DATE_FORMAT(day,'%m/%Y') = ?", @date.strftime('%m/%Y'),employee_id: current_user.employee_id)
@employees = EmployeeAttendance.where("DATE_FORMAT(day,'%m/%Y') = ?", @date.strftime('%m/%Y')).where(employee_id: current_user.employee_id)
@employees = EmployeeAttendance.where("DATE_FORMAT(day,'%m/%Y') = ?", @date.strftime('%m/%Y'))
@employees = EmployeeAttendance.where("DATE_FORMAT(day,'%m/%Y') = ?", @date.strftime('%m/%Y')).where(employee_id: current_user.employee_id).group(:employee_id)
@day = @date.end_of_month.day
@date = Date.new(@year.to_i, Workingday.months[@month])
@year = params[:year].to_s
@month = params[:month].to_s
c
file.column
file
employee_attendance.attributes
file.attributes
c
EmployeeAttendance.import(params[:file])
file

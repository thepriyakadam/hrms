exit
EmployeeAttendance.where(id: @c2.id).update_all(working_hrs: late_working_hrs,rest_time: time_diff)
late_working_hrs = time_diff.abs - lmm.late_mark.to_i.abs
lmm
total_in_out_late_diff.between?(lmm.from.to_i, lmm.to.to_i)
exit
total_in_out_late_diff = in_late_diff + out_late_diff
out_late_diff =TimeDifference.between(@c2.out_time.strftime('%H:%M:%S'), s.out_time.strftime('%H:%M:%S')).in_minutes.abs.to_f
in_late_diff =TimeDifference.between(@c2.in_time.strftime('%H:%M:%S'), s.in_time.strftime('%H:%M:%S')).in_minutes.abs.to_f
total_time_diff = time_diff - s.working_hrs.to_f
time_diff=TimeDifference.between(@c2.in_time.strftime('%H:%M:%S'), @c2.out_time.strftime('%H:%M:%S')).in_hours.to_f
                          @c2=EmployeeAttendance.create(employee_id: e.employee_id,day: e.day.to_date,in_time: e.in,out_time: e.out,machine_attendances_id: e.id,company_time_master_id: s.id,present: e.present,month_name: month_name)
")
                          MachineAttendance.where(id: e.id).update_all(is_proceed: true)
_id,day: e.day.to_date,in_time: e.in,out_time: e.out,machine_attendances_id: e.id,company_time_master_id: s.id,present: e.present,month_name: month_name)
month_name = e.day.strftime("%B")
exit
e.in.strftime('%H:%M:%S').between?(s.in_min_time.strftime('%H:%M:%S'), s.in_max_time.strftime('%H:%M:%S')) && e.out.strftime('%H:%M:%S').between?(s.out_min_time.strftime('%H:%M:%S'), s.out_max_time.strftime('%H:%M:%S'))
 e.in.strftime('%H:%M:%S')
e.id
e
s
s.in_max_time.strftime('%H:%M:%S')
s.in_min_time.strftime('%H:%M:%S')
e.in.strftime('%H:%M:%S')
e.in.utc.strftime('%H:%M:%S')
e.in.strftime('%H:%M:%S')
e.in.strftime('%H:%M:%S').between?(s.in_min_time.strftime('%H:%M:%S'), s.in_max_time.strftime('%H:%M:%S')) && e.out.strftime('%H:%M:%S').between?(s.out_min_time.strftime('%H:%M:%S'), s.out_max_time.strftime('%H:%M:%S'))
c
total_in_out_late_diff = in_late_diff + out_late_diff
out_late_diff =TimeDifference.between(@c2.out_time.strftime('%H:%M:%S'), s.out_time.strftime('%H:%M:%S')).in_minutes.abs.to_f
late_diff =TimeDifference.between(@c2.in_time.strftime('%H:%M:%S'), s.in_time.strftime('%H:%M:%S')).in_minutes.abs.to_f
ate_diff =TimeDifference.between(@c2.in_time.strftime('%H:%M:%S'), s.in_time.strftime('%H:%M:%S')).in_minutes.abs.to_f
c
total_in_out_late_diff = in_late_diff + out_late_diff
out_late_diff =TimeDifference.between(@c2.out_time.strftime('%H:%M:%S'), s.out_time.strftime('%H:%M:%S')).in_minutes.abs.to_f
in_late_diff =TimeDifference.between(@c2.in_time.strftime('%H:%M:%S'), s.in_time.strftime('%H:%M:%S')).in_minutes.abs.to_f
in_late_diff =TimeDifference.between(@c2.in_time.strftime('%H:%M:%S'), s.in_time.strftime('%H:%M:%S')).in_hours.abs.to_f
in_late_diff =TimeDifference.between(@c2.in_time.strftime('%H:%M:%S'), s.in_time.strftime('%H:%M:%S')).in_minutes.abs.to_f
in_late_diff =TimeDifference.between(@c1.in_time.strftime('%H:%M:%S'), s.in_time.strftime('%H:%M:%S')).in_minutes.abs.to_f
tp @c2=EmployeeAttendance.create(employee_id: e.employee_id,day: e.day.to_date,in_time: e.in,out_time: e.out,machine_attendances_id: e.id,company_time_master_id: s.id,present: e.present,month_name: month_name)
@c1.in_time.strftime('%H:%M:%S')
in_late_diff =TimeDifference.between(@c1.in_time.strftime('%H:%M:%S'), s.in_time.strftime('%H:%M:%S')).in_minutes.abs.to_f
time_diff=TimeDifference.between(@c2.in_time.strftime('%H:%M:%S'), @c2.out_time.strftime('%H:%M:%S')).in_hours.to_f
time_diff=TimeDifference.between(@c2.in_time.strftime('%H:%M:%S'), @c2.out_time.strftime('%H:%M:%S')).in_hours
@c2.out_time.strftime('%H:%M:%S')
@c2.in_time.strftime('%H:%M:%S')
time_diff=TimeDifference.between(@c2.in_time.strftime('%H:%M:%S'), @c2.out_time.strftime('%H:%M:%S')).in_hours.round
@c2=EmployeeAttendance.create(employee_id: e.employee_id,day: e.day.to_date,in_time: e.in,out_time: e.out,machine_attendances_id: e.id,company_time_master_id: s.id,present: e.present,month_name: month_name)
month_name = e.day.strftime("%B")
exit
tp EmployeeAttendance.where(id: @c1.id).update_all(working_hrs: late_working_hrs,rest_time: time_diff)
EmployeeAttendance.where(id: @c1.id).update_all(working_hrs: late_working_hrs,rest_time: time_diff)
late_working_hrs = time_diff.abs - lmm.late_mark.to_i.abs
exit
lmm
late_working_hrs_1 = time_diff.abs - lmm.late_mark.to_i.abs
late_diff =TimeDifference.between(@c1.out_time.strftime('%H:%M:%S'), s.out_time.strftime('%H:%M:%S')).in_minutes.abs.round
@c1=EmployeeAttendance.create(employee_id: e.employee_id,day: e.day.to_date,in_time: s.in_time,out_time: e.out,machine_attendances_id: e.id,company_time_master_id: s.id,present: e.present,month_name: month_name)
month_name = e.day.strftime("%B")
diff =TimeDifference.between(@c1.out_time.strftime('%H:%M:%S'), s.out_time.strftime('%H:%M:%S')).in_minutes.abs.round
e.in.strftime('%H:%M:%S').between?(s.in_min_time.strftime('%H:%M:%S'), s.in_max_time.strftime('%H:%M:%S'))
exit
EmployeeAttendance.where(id: @c1.id).update_all(working_hrs: late_working_hrs,rest_time: time_diff)
lmm.late_mark.to_i.abs
late_working_hrs = time_diff.abs - lmm.late_mark.to_i.abs
exit
@c1=EmployeeAttendance.create(employee_id: e.employee_id,day: e.day.to_date,in_time: e.in,out_time: s.out_time,machine_attendances_id: e.id,company_time_master_id: s.id,present: e.present,month_name: month_name)
 month_name = e.day.strftime("%B")
exit
c
exit
 late_diff =TimeDifference.between(@c1.in_time.strftime('%H:%M:%S'), s.in_time.strftime('%H:%M:%S')).in_minutes.abs.round
total_time_diff = time_diff - s.working_hrs.to_f
time_diff=TimeDifference.between(@c1.in_time.strftime('%H:%M:%S'), @c1.out_time.strftime('%H:%M:%S')).in_hours.round
MachineAttendance.where(id: e.id).update_all(is_proceed: true)
@c1=EmployeeAttendance.create(employee_id: e.employee_id,day: e.day.to_date,in_time: e.in,out_time: s.out_time,machine_attendances_id: e.id,company_time_master_id: s.id,present: e.present,month_name: month_name)
month_name = e.day.strftime("%B")
e.out.strftime('%H:%M:%S').between?(s.out_min_time.strftime('%H:%M:%S'), s.out_max_time.strftime('%H:%M:%S'))
                      elsif e.out.strftime('%H:%M:%S').between?(s.out_min_time.strftime('%H:%M:%S'), s.out_max_time.strftime('%H:%M:%S'))
exit
late_diff.between?(lmm.from.to_i, lmm.to.to_i)
exit
exsit
calculated_working_hrs = late_working_hrs_1 - s.working_hrs.to_f
late_working_hrs_1 = time_diff.abs - lmm.late_mark.to_i.abs
lmm
exit
a=LateMarkMaster.where(id: lmm).take
lmm
lmm.late_mark.to_i.abs
time_diff.abs
late_working_hrs = time_diff.abs - lmm.late_mark.to_i.abs
lmm.late_mark.to_i.abs
time_diff.abs
calculated_working_hrs = late_working_hrs_1 - s.working_hrs.to_f
late_working_hrs_1 = time_diff.abs - lmm.late_mark.to_i.abs
c
a.late_mark
a=LateMarkMaster.where(id: lmm).take
LateMarkMaster.where(id: lmm)
exit
lmm.late_mark.to_i.abs
time_diff.abs
late_working_hrs_1 = time_diff.abs - lmm.late_mark.to_i.abs
lmm
exit
calculated_working_hrs = late_working_hrs_1 - s.working_hrs.to_f
time_diff
lmm.late_mark.to_i.abs
time_diff.abs
late_working_hrs = time_diff.abs - lmm.late_mark.to_i.abs
exit
late_diff =TimeDifference.between(@c1.in_time.strftime('%H:%M:%S'), s.in_time.strftime('%H:%M:%S')).in_minutes.abs.round
s.in_time.strftime('%H:%M:%S')
s.out_time.strftime('%H:%M:%S')
@c1.in_time.strftime('%H:%M:%S')
late_diff =TimeDifference.between(@c1.in_time.strftime('%H:%M:%S'), s.out_time.strftime('%H:%M:%S')).in_minutes.abs.round
lmm
lmm.late_mark.to_i.abs
time_diff.abs
late_working_hrs = time_diff.abs - lmm.late_mark.to_i.abs
exit
s.out_time.strftime('%H:%M:%S')
@c1.out_time.strftime('%H:%M:%S')
late_diff =TimeDifference.between(@c1.out_time.strftime('%H:%M:%S'), s.out_time.strftime('%H:%M:%S')).in_minutes.abs.round
MachineAttendance.where(id: e.id).update_all(is_proceed: true)
@c1=EmployeeAttendance.create(employee_id: e.employee_id,day: e.day.to_date,in_time: e.in,out_time: s.out_time,machine_attendances_id: e.id,company_time_master_id: s.id,present: e.present,month_name: month_name)
month_name = e.day.strftime("%B")
e.out.strftime('%H:%M:%S').between?(s.out_min_time.strftime('%H:%M:%S'), s.out_max_time.strftime('%H:%M:%S'))
exit
e.in.strftime('%H:%M:%S').between?(s.in_min_time.strftime('%H:%M:%S'), s.in_max_time.strftime('%H:%M:%S'))
e.in.strftime('%H:%M:%S')
month_name = e.day.strftime("%B")
exit
e.out.strftime('%H:%M:%S').between?(s.out_min_time.strftime('%H:%M:%S'), s.out_max_time.strftime('%H:%M:%S'))
\
exit
@in = params[:machine_attendance][:in].to_datetime.utc
@in = params[:machine_attendance][:in].to_time.utc
@in = params[:machine_attendance][:in].utc
@in = params[:machine_attendance][:in]
c
@emp_id = params[:machine_attendance][:employee_id]
exit
tp MachineAttendance.where(employee_id: @employee.id).create(in: ex.cell(line,'B'),out: ex.cell(line,'C'),shift_master_id: ex.cell(line,'E'),present: ex.cell(line,'F').to_i,day: ex.cell(line,'G'))
@employee = Employee.find_by_punch_card_id(ex.cell(line,'A').to_i)
exit
MachineAttendance.where(employee_id: @employee.id).create(in: ex.cell(line,'B'),out: ex.cell(line,'C'),shift_master_id: ex.cell(line,'E'),present: ex.cell(line,'F').to_i,day: ex.cell(line,'G'))
@employee = Employee.find_by_punch_card_id(ex.cell(line,'A').to_i)
exit
ex.cell(line,'A').to_i
5309:1121:01Present 1P2016-12-20
5307:41Present  (No OutPunch)12016-12-19
5311:2317:30WeeklyOff Present 1WOP2016-12-18
5309:0515:37Present 1P2016-12-17
5309:1816:15Present 1P2016-12-16
5307:5417:30Present 1P2016-12-15
5307:3722:01Present 1P2016-12-14
5307:0322:00Present 1P2016-12-13
5307:3322:00Present 1P2016-12-12
5307:3115:32WeeklyOff Present 1WOP2016-12-11
5307:0922:00Present 1P2016-12-10
5307:0322:00Present 1P2016-12-09
5307:0722:00Present 1P2016-12-08
5307:3221:03Present 1P2016-12-07
5307:1221:00Present 1P2016-12-06
5307:3417:45Present 1P2016-12-05
5307:2815:32WeeklyOff Present 1WOP2016-12-04
5307:1221:00Present 1P2016-12-03
5309:0421:01Present 1P2016-12-02
5307:5417:35Present 1P2016-12-01
exit
ex.cell(line,'A').to_i
cell(line,'A')
@employee = Employee.find_by_punch_card_id(ex.cell(line,'A').to_i)
exit
ex.cell(line,'A')
@employee = Employee.find_by_punch_card_id(ex.cell(line,'A'))
@employee = Employee.find_by_punch_card_id(ex.cell(line,'A').to_i)
exit
File.exist?(@accident_record.avatar.path)
exit
@trainee_requests =TraineeRequest.where(training_topic_master_id: @training_topic_master.id,is_complete: true,training_plan: nil)
@training_topic_master = TrainingTopicMaster.find(params[:training_topic_master_id])
exit
@trainee_requests =TraineeRequest.where(training_topic_master_id: @training_topic_master.id,is_complete: true,training_plan: nil)
tp @trainee_requests =TraineeRequest.where(training_topic_master_id: @training_topic_master.id,is_complete: true,training_plan: nil)
tp @trainee_requests =TraineeRequest.where(training_topic_master_id: @training_topic_master.id,is_complete: true,training_plan: "nil")
tp @trainee_requests =TraineeRequest.where(training_topic_master_id: @training_topic_master.id,is_complete: true,training_plan: "")
tp @trainee_requests =TraineeRequest.where(training_topic_master_id: @training_topic_master.id,is_complete: true,training_plan: nil)
tp @trainee_requests =TraineeRequest.where(training_topic_master_id: @training_topic_master.id,is_complete: :true,training_plan: nil)
tp @trainee_requests =TraineeRequest.where(training_topic_master_id: @training_topic_master.id,is_complete: true,training_plan: nil)
@trainee_requests =TraineeRequest.where(training_topic_master_id: @training_topic_master.id,is_complete: true,training_plan: nil)
@trainee_requests =TraineeRequest.where(training_topic_master_id: @training_topic_master.id,is_complete: :true,training_plan: nil)
@training_topic_master = TrainingTopicMaster.find(params[:training_topic_master_id])
c
@trainee_requests =TraineeRequest.where(training_topic_master_id: @training_topic_master.id,is_complete: true,training_plan: nil)
@training_topic_master = TrainingTopicMaster.find(params[:training_topic_master_id])
exit
CompanyLocation.where(company_id: a).collect {|b| [b.manual_company_location_code,b.id]}
@company_locations.present?
a=current_user.company_id
exit
@company_locations = CompanyLocation.where(company_id: a)
a=current_user.company_id
exit
@company = employee_params
exit
@company = params[:employee][:company_id]
exit
@company = params[:company_id]
@company = params[:employee][:company_id]
exit
@company_locations = CompanyLocation.where(id: current_user.company_location.company_id)
exit
@company_locations = CompanyLocation.where(id: current_user.company_location.company_id)
exit
tp @company_locations = CompanyLocation.where(id: current_user.company_location_id)
tp @company_locations = CompanyLocation.where(id: current_user.company_location.company_id)
@company_locations = CompanyLocation.where(id: current_user.company_location.company_id)
c
tp @company_locations
exit
tp @company_locations
@company_locations
c
tp @company_locations = CompanyLocation.where(id: current_user.company_location_id)
@company_locations = CompanyLocation.where(id: current_user.company_location_id)

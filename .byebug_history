exit
@current_status
@employee_leav_requests = EmployeeLeavRequest.where(start_date: @start_date.to_datetime..@end_date.to_datetime,current_status: @current_status)
@department = params[:department_id]
@location = params[:company_location_id]
@company_id = params[:company_id]
@end_date = params[:end_date]
@start_date = params[:start_date]
exit
@current_status
c
@current_status
continue
c
tp @employee_leav_requests = EmployeeLeavRequest.where(id: @employee_leav_request).where(current_status: @current_status)
@employee_leav_requests = EmployeeLeavRequest.where(id: @employee_leav_request).where(current_status: @current_status)
 @employee_leav_request = EmployeeLeavRequest.where(start_date: @start_date.to_datetime..@end_date.to_datetime).pluck(:id)
exit
c
@location = params[:employee][:company_location_id]
@department = params[:employee][:department_id]
@start_date = params[:employee_leav_request][:start_date]
c
tp  @employee_leav_requests = EmployeeLeavRequest.where(id: @employee_leav_request,current_status: @current_status)
 @employee_leav_requests = EmployeeLeavRequest.where(id: @employee_leav_request,current_status: @current_status)
@current_status = 3
@status
 @employee_leav_requests = EmployeeLeavRequest.where(id: @employee_leav_request,current_status: @current_status)
 @employee_leav_requests = EmployeeLeavRequest.where(id: @employee_leav_request,current_status: @status)
 @employee_leav_requests = EmployeeLeavRequest.where(id: @employee_leav_request,current_status: @current_status)
 @employee_leav_requests = EmployeeLeavRequest.where(id: @employee_leav_request)
 @employee_leav_requests = EmployeeLeavRequest.where(id: @employee_leav_request).where(current_status: @status)
tp @employee_leav_requests = EmployeeLeavRequest.where(id: @employee_leav_request)
tp @employee_leav_requests = EmployeeLeavRequest.where(id: @employee_leav_request).where(current_status: @status)
tp @employee_leav_requests = EmployeeLeavRequest.where(id: @employee_leav_request).where(current_status: @current_status)
@employee_leav_requests = EmployeeLeavRequest.where(id: @employee_leav_request).where(current_status: @current_status)
@employee_leav_request = EmployeeLeavRequest.where(start_date: @start_date.to_datetime..@end_date.to_datetime).pluck(:id)
@status
if @status = "Pending"
@status = params[:employee_leav_request][:current_status]
@department = params[:employee][:department_id]
@location = params[:employee][:company_location_id]
@company_id = params[:employee_leav_request][:company_id]
@end_date = params[:employee_leav_request][:end_date]
 @start_date = params[:employee_leav_request][:start_date]
exit
@department = params[:department_id]
@location = params[:company_location_id]
@start_date = params[:start_date]
@end_date = params[:end_date]
exit
tp EmployeeLeavRequest.where("start_date = ? AND status = ? ", @start_date.to_datetime..@end_date.to_datetime,@status)
EmployeeLeavRequest.where("start_date = ? AND status = ? ", @start_date.to_datetime..@end_date.to_datetime,@status)
@status = params[:employee_leav_request][:current_status]
EmployeeLeavRequest.where("start_date = ? AND status = ? ", @start_date.to_datetime..@end_date.to_datetime,@status)
@end_date = params[:employee_leav_request][:end_date]
@start_date = params[:employee_leav_request][:start_date]
EmployeeLeavRequest.where("start_date = ? AND status = ? ", @start_date.to_datetime..@end_date.to_datetime,@status)
@department = params[:employee][:department_id]
c
tp b= EmployeeLeavRequest.where(id: a,current_status: "FinalApproved")
tp b= EmployeeLeavRequest.where(id: a,status: "FinalApproved")
b=tp EmployeeLeavRequest.where(id: a,status: "FinalApproved")
b=tp EmployeeLeavRequest.where(id: a)
b=tp EmployeeLeavRequest.where(id: a")
b=EmployeeLeavRequest.where(id: a)
a=EmployeeLeavRequest.where(start_date: @start_date.to_datetime..@end_date.to_datetime).pluck(:id)
tp EmployeeLeavRequest.where(start_date: @start_date.to_datetime..@end_date.to_datetime).pluck(:id)
tp EmployeeLeavRequest.where(start_date: @start_date.to_datetime..@end_date.to_datetime)
tp EmployeeLeavRequest.where(start_date: @start_date.to_datetime..@end_date.to_datetime,current_status: @status)
tp EmployeeLeavRequest.where(start_date: @start_date.to_datetime..@end_date.to_datetime).where(current_status: @status)
tp EmployeeLeavRequest.where(start_date: @start_date.to_datetime..@end_date.to_datetime).where(current_status: @status.to_s)
tp EmployeeLeavRequest.where(start_date: @start_date.to_datetime..@end_date.to_datetime).where(current_status: @status)
tp EmployeeLeavRequest.where(start_date: @start_date.to_datetime..@end_date.to_datetime)
tp EmployeeLeavRequest.where(start_date: @start_date.to_datetime..@end_date.to_datetime,current_status: @status)
EmployeeLeavRequest.where(start_date: @start_date.to_datetime..@end_date.to_datetime,current_status: @status)
@status = params[:employee_leav_request][:current_status]
@department = params[:employee][:department_id]
@location = params[:employee][:company_location_id]
@company_id = params[:employee_leav_request][:company_id]
@end_date = params[:employee_leav_request][:end_date]
 @start_date = params[:employee_leav_request][:start_date]
exit
tp EmployeeLeavRequest.where(start_date: @start_date.to_datetime..@end_date.to_datetime)
tp EmployeeLeavRequest.where(start_date: @start_date.to_date..@end_date.to_date)
@start_date.to_date..@end_date.to_date
tp EmployeeLeavRequest.where(start_date: @start_date.to_date..@end_date.to_date)
EmployeeLeavRequest.where(start_date: @start_date.to_date..@end_date.to_date)
@department = params[:employee][:department_id]
c
tp @employee_leav_requests = EmployeeLeavRequest.where(start_date: @start_date.to_datetime.utc,end_date: @end_date.to_datetime.utc)
tp @employee_leav_requests = EmployeeLeavRequest.where(start_date: @start_date.to_date.utc,end_date: @end_date.to_date.utc)
tp @employee_leav_requests = EmployeeLeavRequest.where(start_date: @start_date.to_datetime.utc,end_date: @end_date.to_datetime.utc)
tp @employee_leav_requests = EmployeeLeavRequest.where(start_date: @start_date.to_datetime,end_date: @end_date.to_datetime)
tp @employee_leav_requests = EmployeeLeavRequest.where(start_date: @start_date.to_datetime.utc,end_date: @end_date.to_datetime.utc)
@start_date.to_datetime
@start_date.utc
@start_date.to_datetime.utc
@start_date.utc
@start_date.to_datetime
@start_date.to_date
@start_date
tp @employee_leav_requests = EmployeeLeavRequest.where(start_date: @start_date.to_datetime,end_date: @end_date.to_datetime)
tp @employee_leav_requests = EmployeeLeavRequest.where(start_date: @start_date.to_date,end_date: @end_date.to_datetime)
tp @employee_leav_requests = EmployeeLeavRequest.where(start_date: @start_date.to_date,end_date: @end_date.to_date)
tp @employee_leav_requests = EmployeeLeavRequest.where(start_date: @start_date,end_date: @end_date)
@employee_leav_requests = EmployeeLeavRequest.where(start_date: @start_date,end_date: @end_date)
@department = params[:employee][:department_id]
@location = params[:employee][:company_location_id]
@company_id = params[:employee_leav_request][:company_id]
@end_date = params[:employee_leav_request][:end_date]
@start_date = params[:employee_leav_request][:start_date]
exit
tp @employee_leav_requests = EmployeeLeavRequest.where(start_date: @start_date,end_date: @end_date)
tp @employee_leav_requests = EmployeeLeavRequest.where(start_date: @start_date.to_date,end_date: @end_date.to_date)
@employee_leav_requests = EmployeeLeavRequest.where(start_date: @start_date.to_date,end_date: @end_date.to_date)
@department = params[:employee][:department_id]
 @location = params[:employee][:company_location_id]
 @location = params[:employee_leav_request][:company_location_id]
 @location = params[:employee][:company_location_id]
@company_id = params[:employee_leav_request][:company_id]
@company_id = params[:employee][:company_id]
@end_date = params[:employee_leav_request][:end_date]
@start_date = params[:employee_leav_request][:start_date]
exit
tp @salaryslips = Salaryslip.where(id:  @salaryslip_components)
@salaryslips = Salaryslip.where(id:  @salaryslip_components)
tp @salaryslip_components = SalaryslipComponent.where(salaryslip_id: @salaryslips1,other_component_name: "Advance").pluck(:salaryslip_id) 
@salaryslip_components = SalaryslipComponent.where(salaryslip_id: @salaryslips1,other_component_name: "Advance").pluck(:salaryslip_id)
@salaryslips1 = Salaryslip.where('month = ? and year = ?', @month, @year).where(employee_id: @employees).pluck(:id)
@employees = Employee.where(company_id: @company.to_i,company_location_id: @location.to_i)
@location = params[:food_deduction][:company_location_id]
@location = params[:salaryslip][:company_location_id]
 @company = params[:salaryslip][:company_id]
 @year = params[:salaryslip][:year]
@month = params[:salaryslip][:month]
b = a.advance_date
a.advance_date
a =  @advance_salaries = AdvanceSalary.where("strftime('%Y', advance_date) = ?", date.strftime('%Y')).where(employee_id: @employees).last
 @advance_salaries = AdvanceSalary.where("strftime('%Y', advance_date) = ?", date.strftime('%Y')).where(employee_id: @employees).last
date.strftime("%Y")
 @advance_salaries = AdvanceSalary.where("strftime('%Y', advance_date) = ?", date.strftime('%Y')).where(employee_id: @employees)
"strftime('%Y', advance_date) = ?", date.strftime('%Y')
 @employees = Employee.where(company_id: @company.to_i,company_location_id: @location.to_i).pluck(:id)
date = Date.new(@year.to_i)
exit
date = Date.new(@year.to_i)
 Workingday.months[@month]
@year.to_i
date = Date.new(@year.to_i, Workingday.months[@month])
@location = params[:advance_salary][:company_location_id]
@company = params[:advance_salary][:company_id]
@year = params[:advance_salary][:year]
exit
@year.to_i
@year = params[:advance_salary][:year]
exit
@year = params[:advance_salary][:year]
@year = params[:year]
exit
Employee.where(company_location_id: current_user.company_location_id)
@emp_id = WeekOffMaster.where(day: @day,from: @from.to_date,to: @to.to_date).pluck(:employee_id)
tp WeekOffMaster.where(day: @day,from: @from.to_date,to: @to.to_date)
WeekOffMaster.where(day: @day,from: @from.to_date)
WeekOffMaster.where("day = ? AND from = ? AND to = ?",@day,@from.to_date,@to.to_date)
WeekOffMaster.where(day: @day,from: @from)
WeekOffMaster.where(day: @day,from: @from.to_date,to: @to.to_date)
WeekOffMaster.where(day: @day,from: @from.to_date)
WeekOffMaster.where(day: @day)
@to.to_date
@from
 @day
WeekOffMaster.where(day: @day,from: @from.to_date,to: @to.to_date)
exit
work_data_structure
c
work_data_structure
exit
week_off_day = week_off_day_count(exist)
present_day
week_off_day
hidden_field e.employee_id, 'week_off_day', value: week_off_day
<%= hidden_field e.employee_id, 'week_off_day', value: week_off_day %>
c
EmployeeAttendance.where("strftime('%m/%Y', day) = ? AND employee_id = ?", @date.strftime('%m/%Y'),x).update_all(is_confirm: true)

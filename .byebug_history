last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time.to_datetime..@punch_master.start_time.to_datetime).last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time.to_time..@punch_master.start_time.to_time).last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time:" @punch_master.end_time".."@punch_master.start_time").last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time.."@punch_master.start_time").last
tp DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out")
DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out")
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
exit
first_record_time
first_record_time = first_record.time.to_time
first_record.time.to_time
first_record
first_record_time
exit
last_out_time.to_time -  first_record_time
 first_record_time = first_record.time.to_time
last_out_time
 first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time..@punch_master.end_time).first
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
 first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time..@punch_master.end_time).first
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
 first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).first
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
 first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).first
 first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,time: @punch_master.end_time..@punch_master.start_time).first
 first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).first
 first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time..@punch_master.end_time).first
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
 first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time..@punch_master.end_time).first
tp first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time..@punch_master.end_time).first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time..@punch_master.end_time).first
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
exit
working_hrs.round(2)
working_hrs = 0
working_hrs.round(2)
working_hrs = nil
total/3600
total = last_record.time.to_time - first_record.time.to_time
total_hrs/3600
total_hrs = last_record.time.to_time - first_record.time.to_time
total_hrs/3600
total_hrs = 
last_out = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out").last
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time..@punch_master.end_time).first
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
last_record
exit
tp first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time..@punch_master.end_time).first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time..@punch_master.end_time).first
@punch_master.start_time..@punch_master.end_time
@punch_master.end_time
@punch_master.start_time
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time:" @punch_master.start_time".."@punch_master.end_time").first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time:" @punch_master.start_time".." @punch_master.end_time").first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time:"@punch_master.start_time".."@punch_master.end_time").first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN").first
@punch_master.start_time
tp @punch_master
@punch_master
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time:" @punch_master.start_time".."@punch_master.end_time").first
first_record
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time:" @punch_master.end_time".."@punch_master.start_time").last
first_record
tp last_record
exit
 first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time:" @punch_master.start_time".."@punch_master.end_time").first
tp first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time:" @punch_master.start_time".."@punch_master.end_time").first
tp last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,time:" @punch_master.end_time".."@punch_master.start_time").first
first_record
first_record_time
last_record_time
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,time:" @punch_master.end_time.to_time".."@punch_master.start_time.to_time").first
tp last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,time:" @punch_master.end_time.to_time".."@punch_master.start_time.to_time").first
@punch_master.end_time.to_time
@punch_master.end_time
@punch_master.end_time.to_time
@punch_master.start_time.to_time
@punch_master.end_time.to_time..@punch_master.start_time.to_time
@punch_master.start_time.to_time
@punch_master.end_time.to_time
@punch_master.end_time
@punch_master
tp last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,time:" @punch_master.end_time.to_time".."@punch_master.start_time.to_time").first
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,time:" @punch_master.end_time.to_time".."@punch_master.start_time.to_time").first
last_record = DailyAttendance.where(time:" @punch_master.end_time.to_time".."@punch_master.start_time.to_time").first
last_record = DailyAttendance.where(time:" @punch_master.end_time.to_time".."@punch_master.start_time.to_time")
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,time:" @punch_master.end_time.to_time".."@punch_master.start_time.to_time").last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time:" @punch_master.end_time.to_time".."@punch_master.start_time.to_time").last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out").last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time:" @punch_master.end_time.to_time".."@punch_master.start_time.to_time").last
tp first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time:" @punch_master.start_time.to_time".."@punch_master.end_time.to_time").first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time:" @punch_master.start_time.to_time".."@punch_master.end_time.to_time").first
 first_record
tp first_record
tp last_record
last_record_time
first_record_time
c = a/3600
b = a/3600
a = last_record_time - first_record_time
first_record_time
last_record_time
a = last_record_time - first_record_time
first_record_time
last_record_time
 total_hrs/3600
 total_hrs = last_record_time - first_record_time
 total_hrs/3600
 total_hrs = last_record_time.to_time - first_record_time
last_record_time
first_record_time
 total_hrs/3600
 total_hrs = last_out_time.to_time - first_record_time
first_record_time
last_out_time.to_time
 total_hrs/3600
 total_hrs = last_out_time.to_f - first_record_time.to_f
 total_hrs/3600
 total_hrs = last_out_time.to_f - first_in_time.to_f
last_out_time.to_time
 working_hrs.round(2)
first_record_time
working_hrs.round(2)
working_hrs = total_hrs/3600
total_hrs = last_record.time.to_time - employee_attendance.in_time.to_time
 last_record_time <= employee_attendance.in_time.to_time
last_record_time
employee_attendance.in_time.to_time
employee_attendance.in_time
employee_attendance = EmployeeAttendance.where(employee_id: employee.id,day: previous_date.to_date).take
 employee_attendance
last_record_time
http://localhost:3000/employee_attendances/upload_daily_attendance
exit
working_hrs = total_hrs/3600
total_hrs = last_record.time.to_time - employee_attendance.in_time.to_time
employee_attendance.in_time.to_time
employee_attendance = EmployeeAttendance.where(employee_id: employee.id,day: previous_date.to_date).take
 last_record.time.to_time
last_out_time.to_time
last_out_time
 last_record.time.to_time
 last_record.time
first_record.time.to_time
first_record.time
first_record
 last_record
tp first_record
tp last_record
exit
working_hrs = total_hrs/3600
total_hrs = last_re.to_time - employee_attendance.in_time.to_time
 last_re = last_record.time.to_time + 24*60*60
 last_re = last_record.time.to_time + 24*60
 last_re = last_record.time.to_time + 24
employee_attendance.in_time.to_time
 last_record_time
tp last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time:" @punch_master.end_time.to_time".."@punch_master.start_time.to_time").last
 last_re = last_record.time.to_time + 24*30*30
 last_re = last_record.time.to_time + 24*60*60
 last_re = last_record.time.to_time + 23*60*60
employee_attendance.in_time.to_time
 last_record_time
last_record_time.to_time <= employee_attendance.in_time.to_time
 last_record_time
employee_attendance.in_time.to_time
employee_attendance.in_time
tp employee_attendance
last_record_time = last_record.time
last_record_time = last_record.time.to_time
last_record
last_record_time <= employee_attendance.in_time.to_time
employee_attendance.in_time.to_time
 last_re = last_record.time.to_time
 last_re = last_record.time.to_time + 20*60*60
 last_re = last_record.time.to_time + 10*60*60
 last_re = last_record.time.to_time + 24*60*60
 last_re = last_record.time.to_time + 24
 employee_attendance = EmployeeAttendance.where(employee_id: employee.id,day: previous_date.to_date)
tp  employee = Employee.find_by_manual_employee_code(da.employee_code)
 employee = Employee.find_by_manual_employee_code(da.employee_code)
tp employee_attendance = EmployeeAttendance.where(employee_id: employee.id,day: previous_date.to_date).take
tp last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time:" @punch_master.end_time.to_time".."@punch_master.start_time.to_time").last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time:" @punch_master.end_time.to_time".."@punch_master.start_time.to_time").last
previous_date = (da.date - 1).to_date
da.date
 last_re = last_record.time.to_time + 40
 last_re = last_record.time.to_time + 24
 last_re = last_record.time.to_time + 24.00.00
a = 24:00:00
 last_re = last_record.time.to_time + 
 last_re = last_record.time.to_time + 24:00:00
 last_re = last_record.time.to_time + 24
 last_re = last_record.time.to_time 
 last_re = last_record.time.to_time + 24
last_record_time <= employee_attendance.in_time.to_time
employee_attendance.in_time.to_time
last_record_time
exit
tp @employee_resignation = EmployeeResignation.create(employee_id: employee_id,resignation_date: resignation_date,application_date: application_date,reason: reason,note: note,leaving_reason_id: leaving_reason_id,notice_period: notice_period,tentative_leaving_date: tentative_leaving_date)
@employee_resignation = EmployeeResignation.create(employee_id: employee_id,resignation_date: resignation_date,application_date: application_date,reason: reason,note: note,leaving_reason_id: leaving_reason_id,notice_period: notice_period,tentative_leaving_date: tentative_leaving_date)
exit
tp @employee_resignation = EmployeeResignation.create(employee_id: employee_id,resignation_date: resignation_date,application_date: application_date,reason: reason,note: note,leaving_reason_id: leaving_reason_id,notice_period: notice_period,tentative_leaving_date: tentative_leaving_date)
@employee_resignation = EmployeeResignation.create(employee_id: employee_id,resignation_date: resignation_date,application_date: application_date,reason: reason,note: note,leaving_reason_id: leaving_reason_id,notice_period: notice_period,tentative_leaving_date: tentative_leaving_date)
note = params[:employee_resignation][:note]
reason = params[:employee_resignation][:reason]
notice_period = params[:notice_period]
tentative_leaving_date = params[:employee_resignation][:tentative_leaving_date]
exit
ResignationStatusRecord.create(employee_resignation_id: @employee_resignation.id,change_status_employee_id: current_user.employee_id,status: "Pending",change_date: Date.today)
tp @employee_resignation = EmployeeResignation.create(employee_id: employee_id,resignation_date: resignation_date,application_date: application_date,reason: reason,note: note,leaving_reason_id: leaving_reason_id,notice_period: notice_period,tentative_leaving_date: tentative_leaving_date)
@employee_resignation.save
tp @employee_resignation = EmployeeResignation.create(employee_id: employee_id,resignation_date: resignation_date,application_date: application_date,reason: reason,note: note,leaving_reason_id: leaving_reason_id,notice_period: notice_period,tentative_leaving_date: tentative_leaving_date)
@employee_resignation = EmployeeResignation.create(employee_id: employee_id,resignation_date: resignation_date,application_date: application_date,reason: reason,note: note,leaving_reason_id: leaving_reason_id,notice_period: notice_period,tentative_leaving_date: tentative_leaving_date)
note = params[:employee_resignation][:note]
reason = params[:employee_resignation][:reason]
notice_period = params[:employee_resignation][:notice_period]
leaving_reason_id = params[:employee_resignation][:leaving_reason_id]
resignation_date = params[:employee_resignation][:resignation_date]
application_date = params[:application_date]
application_date = params[:employee_resignation][:application_date]
employee_id = params[:employee_id]
employee_id = params[:employee_resignation][:employee_id]
exit
resignation_date = params[:employee_resignation][:resignation_date]
application_date = params[:employee_resignation][:application_date]
employee_id = params[:employee_resignation][:employee_id]
exit
employee_attendance.in_time.to_time
c
employee_attendance.in_time.to_time
c
employee_attendance.in_time.to_time
c
employee_attendance.in_time.to_time
c
employee_attendance.in_time.to_time
c
employee_attendance.in_time.to_time
c
employee_attendance.in_time.to_time
c
employee_attendance.in_time.to_time
c
employee_attendance.in_time.to_time
c
employee_attendance.in_time.to_time
c
employee_attendance.in_time.to_time
c
employee_attendance.in_time.to_time
c
last_record_time

<div class="box">
  <div class="box-header">
    <h3 class="box-title">Visitor Detail</h3>
    <div class="pull-right">
       <%= link_to "New Visitor Detail", new_visitor_detail_path, class: 'btn btn-primary' %>
    </div>
    </div>

<div class="box-body">

<table id="example1" class="table table-bordered table-hover table-condensed">
  <thead>
    <tr>
      <th>Name</th>
      <th>Age</th>
      <th>Contact No.</th>
      <th>From</th>
      <th>Meet To</th>
      <th>Entry Time</th>
      <th>Download Image</th>
      <th>Action</th>
    </tr>
  </thead>

  <tbody>
    <% @visitor_details.each do |visitor_detail| %>
      <tr>
        <td><%= visitor_detail.name %></td>
        <td><%= visitor_detail.age %></td>
        <td><%= visitor_detail.contact_no %></td>
        <td><%= visitor_detail.from %></td>
        <td><%= full_name(visitor_detail.employee) %></td>
        <td><%= visitor_detail.in_time %></td>
        <td>
           <% if visitor_detail.avatar_file_name == nil %>
           <small class="label label-default">Picture Not Available</small>
             <% else %>
             <%= link_to ' Picture',download_person_image_path(id: visitor_detail.id),class: 'btn btn-xs btn btn-info fa fa-download',:target => "_blank" %>
             <% end %>
        </td>
        <td><%= link_to '', edit_visitor_detail_path(visitor_detail),class:'btn-success btn-xs fa fa-edit' %>
        <%= link_to '', visitor_detail, method: :delete, data: { confirm: 'Are you sure?' },class:'btn-danger btn-xs fa fa-close' %>
        <%= link_to '', visitor_detail,class:'btn btn-xs btn-default fa fa-eye' %> 
         
         <%= link_to 'Visiting Card', display_visiting_card_visitor_details_path(id: visitor_detail.id),class: 'btn btn-primary btn-xs ' %>

        </td>
      </tr>
    <% end %>
  </tbody>
</table>
</div>
</div>
<script type="text/javascript">
  $(document).ready(function() {
    $('#example1').DataTable( {
        "lengthMenu": [[10, 25, 50,100, -1], [10, 25, 50,100, "All"]]
    } );
} );
</script>

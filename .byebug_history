c
tp @change_designation = ChangeDesignation.find(params[:id])
tp @change_designation = ChangeDesignation.find(params[:format])
@change_designation = ChangeDesignation.find(params[:format])
c
JoiningDetail.find_by_employee_id(@employee)
@joining_detail.update(employee_designation_id: @employee_designation_id)
tp JoiningDetail
JoiningDetail
JoiningDetail.find_by_employee_id
JoiningDetail.find_by_employee_id(@employee)
@employee
@employee)
JoiningDetail.find_by_employee_id(@employee)
@joining_detail = JoiningDetail.find_by_employee_id(@employee)
c
tp  @change =  ChangeDesignation.where(employee_id: @employee).last
tp  @change =  ChangeDesignation.where(employee_id: @employee)
 @change =  ChangeDesignation.where(employee_id: @employee)
  @effective_from = params[:change_designation][:effective_from].to_date
 @employee = params[:change_designation][:employee_id]
 @change =  ChangeDesignation.where(employee_id: @employee).last
c
@change.last - 1
@change - 1
tp @change =  ChangeDesignation.where(employee_id: @employee).last(2)
tp @change =  ChangeDesignation.where(employee_id: @employee).last(2) - 1
tp @change =  ChangeDesignation.where(employee_id: @employee).last(2)
ChangeDesignation.where(id: @change_designation).update_all(effective_to: @effective_from,status: false) 
@change_designation = @change.id - 1
change_@change.id - 1
@change.id - 1
@change.id 
@change.previous
@change.presvious
@change - 1
tp @change =  ChangeDesignation.where(employee_id: @employee).last 
@change =  ChangeDesignation.where(employee_id: @employee).last - 1
@change =  ChangeDesignation.where(employee_id: @employee).last 
tp @change.id - 1
tp @change.last.id - 1
tp @change.id - 1
tp @change - 1
tp @change
@change
@change =  ChangeDesignation.where(employee_id: @employee).last 
tp ChangeDesignation.where(employee_id: @employee).last 
tp ChangeDesignation.where(employee_id: @employee).last - 1
tp ChangeDesignation.where(employee_id: @employee)
ChangeDesignation.where(employee_id: @employee)
        ChangeDesignation.create(employee_id: @change_designation.employee_id,employee_designation_id: @change_designation.employee_designation_id,effective_from: @effective_from,change_by_id: current_user.employee_id,status: true)
 @effective_from = params[:change_designation][:effective_from].to_date
@employee = params[:change_designation][:employee_id]
 ChangeDesignation.where(employee_id: @employee).last 
@change =  ChangeDesignation.where(employee_id: @employee).last 
@change =  ChangeDesignation.where(employee_id: @employee).last - 1
c
@effective_from = params[:change_designation][:effective_from].to_date
c
tp ChangeDesignation.where(id: @change) 
ChangeDesignation.where(id: @change) 
ChangeDesignation.where(id: @change).update_all(effective_to: @effective_from)  
ChangeDesignation.where(id: @change).update_all(effective_to: @effective_from,status: false)  
tp @change =  ChangeDesignation.where(employee_id: @employee).last
@change =  ChangeDesignation.where(employee_id: @employee).last
tp ChangeDesignation.where(employee_id: @employee).last
@employee = params[:change_designation][:employee_id]
tp ChangeDesignation.where(employee_id: @employee)
tp ChangeDesignation.where(employee_id: @employee).last
tp ChangeDesignation.where(employee_id: a).last
ChangeDesignation.where(employee_id: a).last
ChangeDesignation.where(employee_id: @change_designation.employee_id)
ChangeDesignation.where(employee_id: @change_designation.employee)
ChangeDesignation.where(employee_id: @employee)
ChangeDesignation.where(
@employee = params[:change_designation][:status]
@employee = params[:change_designation][:staus]
@employee = params[:change_designation][:effective_from]
@employee = params[:change_designation][:employee_id]
ChangeDesignation.where(employee_id: a).last
ChangeDesignation.where(employee_id: a)
a= change_designation_params[:employee_id]
a= change_designation_params[employee_id]
change_designation_params
ChangeDesignation.where(
ChangeDesignation.where(@change_designation.employee_id)
ChangeDesignation.where(employee_id: @change_designation.employee_id)
change_designation_params
Changedesignation.where(employee_id: @change_designation.employee_id)
c
@employee = Employee.where(id: @change_designation.id)
@employee = Employee.find(id: @change_designation)
@employee = Employee.find_by_id(@change_designation.employee_id)
@employee = Employee.find_by_id(id: @change_designation.employee_id)
@employee = Employee.find_by_id(id: @employee_id)
@employee = Employee.find_by_id(id: employee_id)
@change = ChangeDesignation.where(id: @change_designation.id)
@change = ChangeDesignation.find(params[:id])
@change = ChnageDesignation.find(params[:id])
c
 @employee = Employee.find_by_id(@change_designation.employee_id)
c
 @status = params[:change_designation][:status]
ChangeDesignation.where(id: @change_designation_history).update_all(effective_to: @effective_from,status: @status)
status: @status
 @status = params[:change_designation][:status]
c
@status = params[:change_designation][:true]
@status = params[:change_designation][:status]
@effective_from = params[:change_designation][:effective_from].to_date
 @employee_designation_id = params[:change_designation][:employee_designation_id]
 @employee_id = params[:change_designation][:employee_id]
c
 @employee_designation_id = params[:change_designation][:employee_designation_id]
@employee_id = params[:change_designation][:employee_id]
tp @employee = Employee.find_by_id(@change_designation.employee_id)
@employee = Employee.find_by_id(@change_designation.employee_id)
 @employee = Employee.find_by_id(@change_designation.employee_id)
 @employee = Employee.find_by_id(@employee_promotion.employee_id)
c
PromotionHistory.where(id: @promotion_history).update_all(effective_to: @effective_from).to_date
@effective_from = params[:employee_promotion][:effective_from].to_date
PromotionHistory.where(id: @promotion_history).update_all(effective_to: @effective_from)
@effective_from = params[:employee_promotion][:effective_from]
@employee_promotion = EmployeePromotion.find_by_id(@effective_from)
tp PromotionHistory.where(employee_promotion_id: @employee_promotion.id)
@effective_from = params[:employee_promotion][:effective_from]
@employee_promotion = EmployeePromotion.find_by_id(@effective_from)
@employee_promotion = EmployeePromotion.find_by_employee_id(@effective_from)
@employee_promotion = EmployeePromotion.where(effective_from: )
@employee_promotion = EmployeePromotion.where(effective_from: @employee_promotion.effective_from)
@employee_promotion = EmployeePromotion.where(effective_from: @effective_from)
@effective_from = params[:employee_promotion][:effective_from]
tp PromotionHistory.where(employee_promotion_id: @employee_promotion.id).update_all(effective_to: @effective_from)
tp PromotionHistory.where(employee_promotion_id: @employee_promotion.id)
tp PromotionHistory.where(employee_promotion_id: @employee_promotion.id).update_all(effective_to: @effective_from)
tp PromotionHistory.where(employee_promotion_id: @employee_promotion.id)
PromotionHistory.where(employee_promotion_id: @employee_promotion.id)
tp @joining_detail.update(employee_designation_id: @employee_designation_id,employee_grade_id: @employee_grade_id,employee_category_id: @employee_category_id)
@joining_detail.update(employee_designation_id: @employee_designation_id,employee_grade_id: @employee_grade_id,employee_category_id: @employee_category_id)
tp     PromotionHistory.create(employee_promotion_id: @employee_promotion.id,employee_id: @employee_promotion.employee_id,department_id: @employee_promotion.department_id,employee_designation_id: @employee_promotion.employee_designation_id,employee_category_id: @employee_promotion.employee_category_id,employee_grade_id: @employee_promotion.employee_grade_id,employee_ctc: @employee_promotion.employee_ctc,justification: @employee_promotion.justification,effective_from: @effective_from)
@effective_from = params[:employee_promotion][:effective_to]
@effective_from = params[:employee_promotion][:effective_from]
@effective_from = params[:employee_promotion][:effective_from].first
@effective_from = params[:employee_promotion][:effective_from].last
@effective_from = params[:employee_promotion][:effective_from]
@effective_from = params[:effective_from]
@effective_from = params[:employee_promotion][:effective_from]
tp PromotionHistory.where(id: @promotion_history)
tp PromotionHistory.where(id: @promotion_history).update_all(effective_to: @effective_from)
PromotionHistory.where(id: @promotion_history).update_all(effective_to: @effective_from)
effective_to = params[:effective_to]
effective_to = params[:employee_promotion][:effective_to]
effective_to = params[:effective_to]
effective_to = params[:employee_promotion][:effective_to]
effective_to
effective_to: effective_from)
effective_to: @effective_from)
update_all(effective_to: @effective_from)
tp PromotionHistory.where(id: @promotion_history)
PromotionHistory.where(id: @promotion_history)
@promotion_history = PromotionHistory.all.last.id - 1
@promotion_history = PromotionHistory.last.id - 1
tp  @employee = Employee.find(@employee_id)
PromotionHistory.where(id: @promotion_history).update_all(effective_to: @effective_from)
tp @promotion_history = PromotionHistory.all.last.id - 1
tp @promotion_history = PromotionHistory.all.last.id
tp @promotion_history = (PromotionHistory.all.last) - 1
tp @promotion_history = PromotionHistory.all.last - 1
tp @promotion_history = PromotionHistory.all.last
tp @promotion_history = PromotionHistory.all
tp @promotion_history = PromotionHistory.all.last - 1
tp @promotion_history = PromotionHistory.last - 1
tp @promotion_history = PromotionHistory.last 
last.id
tp PromotionHistory
PromotionHistory
@effective_from = params[:employee_promotion][:effective_from]
tp PromotionHistory.where(id: @promotion_history).update_all(effective_to: @effective_from)
tp @promotion_history = PromotionHistory.last.id - 1
@promotion_history = PromotionHistory.last.id - 1
tp     PromotionHistory.create(employee_promotion_id: @employee_promotion.id,employee_id: @employee_promotion.employee_id,department_id: @employee_promotion.department_id,employee_designation_id: @employee_promotion.employee_designation_id,employee_category_id: @employee_promotion.employee_category_id,employee_grade_id: @employee_promotion.employee_grade_id,employee_ctc: @employee_promotion.employee_ctc,justification: @employee_promotion.justification,effective_from: @effective_from)
tp @joining_detail.update(employee_designation_id: @employee_designation_id,employee_grade_id: @employee_grade_id,employee_category_id: @employee_category_id)
@joining_detail.update(employee_designation_id: @employee_designation_id,employee_grade_id: @employee_grade_id,employee_category_id: @employee_category_id)
@employee.update(department_id: @department_id)
@employee = Employee.find(@employee_id)
@effective_from = params[:employee_promotion][:effective_from]
@promotion_history = PromotionHistory.last.id - 1
 @joining_detail.update(employee_designation_id: @employee_designation_id,employee_grade_id: @employee_grade_id,employee_category_id: @employee_category_id)
tp @joining_detail= JoiningDetail.find_by_employee_id(@employee_id)
@joining_detail= JoiningDetail.find_by_employee_id(@employee_id)
c
@employee_promotion = EmployeePromotion.find(params[:id])
@employee_promotion = EmployeePromotion.find(params[:format])
@employee_promotion = EmployeePromotion.find(id: @employee_promotion.id)
tp @promotion_history = PromotionHistory.all.last
tp @promotion_history = PromotionHistory.all
tp @promotion_history = PromotionHistory.(params[:id])
tp promotion_history = PromotionHistory.(params[:id])
tp @employee = PromotionHistory.where(params[:id]).last
tp @employee = PromotionHistory.where(params[:id])
tp @employee = PromotionHistory.find_by(params[:id])
tp
@employee = PromotionHistory.find_by(params[:id])
@employee = PromotionHistory.find(params[:id])
@employee = PromotionHistory.find(params[:formate])
@employee = PromotionHistory.find(params[:format])
@promotion_histories = PromotionHistory.find_by(id: @employee)
@promotion_histories = PromotionHistory.where(employee_promotion_id: @employee)
employee_promotion_id: @employee
@employee = [:employee_promotion_id]
@employee = params[:promotion_hitory][:employee_promotion_id]
@employee = params[:employee_promotion][:employee_promotion_id]
@employee = params[:employee_promotion_id]
exit
@vacancy_masters = VacancyMaster.where(current_status: "FinalApproved",recruiter_id: current_user.employee_id)
exit
tp  @vacancy_master = VacancyMaster.find(params[:vacancy_master_id])
 @vacancy_master = VacancyMaster.find(params[:vacancy_master_id])
employee_id = params[:salary][:employee_id]
employee_id = params[:employee_id]
exit
first_in = DailyAttendance.where(date: @date.to_date,employee_code: @employee_code,reader_name: "Main Door IN").first
@daily_attendances = DailyAttendance.where(date: @date.to_date,employee_code: @employee_code)
@employee = Employee.find_by_id(@employee_id)
@employee_id = params[:salary][:employee_id]
@employee_code = params[:salary][:employee_code]
@date = params[:salary][:date]
last_out
first_in
exit
tp flag = LeaveCOff.where(employee_id: emp,c_off_date: "2017-06-24").where("status = ? OR status = ?",nil,true)
tp flag = LeaveCOff.where(employee_id: emp,c_off_date: date.to_date).where("status = ? OR status = ?",nil,true)
self.employee_id
self.employee
emp
self.employee_id
flag = LeaveCOff.exists?("employee_id = ? AND c_off_date = ? AND status = ? OR status = ?",emp,date.to_date,nil,true)
flag = LeaveCOff.exists?("employee_id = ? AND c_off_date = ? AND status = ? OR status = ?"emp,date.to_date,nil,true)
flag = 0
flag 
tp flag 
flag 
tp flag = LeaveCOff.where(employee_id: emp,c_off_date: date.to_date).where("status = ? OR status = ?",nil,true)
flag = LeaveCOff.where(employee_id: emp,c_off_date: date.to_date).where("status = ? OR status = ?",nil,true)
flag = 0
flag
tp flag
flag
exit
reason
tentative_leaving_date
leaving_reason_id
resignation_date == ""
resignation_date
resignation_date.nil?

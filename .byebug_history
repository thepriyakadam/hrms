exit
c
a = total_hrs * 60
a.to_time
a.to_tme
a = total_hrs * 60
total_hrs * 60
total_hrs = last_record.time.to_datetime - employee_attendance.in_time.to_datetime
total_hrs.to_time
total_hrs = last_record.time.to_time - employee_attendance.in_time.to_time
 last_record.time.to_time
wh = total_hrs/360
wh = total_hrs/3600
total_hrs = last_record.time.to_time - employee_attendance.in_time.to_time
employee_attendance.in_time.to_time
last_record.time.to_time <= employee_attendance.in_time.to_time
employee_attendance.in_time.to_time
last_record.time.to_time
last_record.nil?
exit
employee_attendance
last_record
exit
first_record_time = first_record.time.to_time
 last_record_time = last_record.time.to_time
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time:" @punch_master.end_time.to_time".."@punch_master.start_time.to_time").first
tp  last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time:" @punch_master.start_time.to_time".."@punch_master.end_time.to_time").last
tp  last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:" Main Door Out",time:" @punch_master.start_time.to_time".."@punch_master.end_time.to_time").last
tp  last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:" Main Door Out",time: " @punch_master.start_time.to_time".."@punch_master.end_time.to_time").last
tp  last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:" Main Door Out",time:" @punch_master.start_time.to_time".."@punch_master.end_time.to_time").last
tp  last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:" Main Door Out",time: "@punch_master.start_time.to_time".."@punch_master.end_time.to_time").last
 last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:" Main Door Out",time: "@punch_master.start_time.to_time".."@punch_master.end_time.to_time").last
@punch_master = PunchMaster.find_by(status: true)
employee = Employee.find_by_manual_employee_code(da.employee_code)
c
employee = Employee.find_by_manual_employee_code(da.employee_code)
c
employee = Employee.find_by_manual_employee_code(da.employee_code)
c
employee = Employee.find_by_manual_employee_code(da.employee_code)
 previous_date = (da.date - 1).to_date
exit
c
tp last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time:" @punch_master.start_time.to_time ".."@punch_master.end_time.to_time")
tp last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time:" @punch_master.start_time.to_time ".."@punch_master.end_time.to_time").last
tp last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time:" @punch_master.start_time.to_time".." @punch_master.end_time.to_time").last
tp last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time:"@punch_master.start_time.to_time".."@punch_master.end_time.to_time").last
tp last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time:" @punch_master.start_time.to_time".."@punch_master.end_time.to_time").last
tp last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time: @punch_master.start_time.to_time..@punch_master.end_time.to_time).last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time: @punch_master.start_time.to_time..@punch_master.end_time.to_time).last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out").last
@punch_master = PunchMaster.find_by(status: true)
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: @punch_master.end_time.to_time..@punch_master.start_time.to_time).first
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time: @punch_master.start_time.to_time..@punch_master.end_time.to_time).last
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: "@punch_master.end_time.to_time".."@punch_master.start_time.to_time").first
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time: "@punch_master.start_time.to_time".."@punch_master.end_time.to_time").last
@punch_master = PunchMaster.find_by(status: true)
 previous_date = (da.date - 1).to_date
tp employee = Employee.find_by_manual_employee_code(da.employee_code)
employee = Employee.find_by_manual_employee_code(da.employee_code)
c
employee = Employee.find_by_manual_employee_code(da.employee_code)
c
employee = Employee.find_by_manual_employee_code(da.employee_code)
c
employee = Employee.find_by_manual_employee_code(da.employee_code)
c
employee = Employee.find_by_manual_employee_code(da.employee_code)
c
employee = Employee.find_by_manual_employee_code(da.employee_code)
c
employee = Employee.find_by_manual_employee_code(da.employee_code)
c
employee = Employee.find_by_manual_employee_code(da.employee_code)
da
employee = Employee.find_by_manual_employee_code(da.employee_code)
employee_attendance = EmployeeAttendance.where(employee_id: employee.id,day: previous_date.to_date).take
exit
c
exit
previous_date = (da.date - 1).to_date
c
previous_date = (da.date - 1).to_date
c
previous_date = (da.date - 1).to_date
c
previous_date = (da.date - 1).to_date
c
previous_date = (da.date - 1).to_date
c
previous_date = (da.date - 1).to_date
tp last_out = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out").last
last_out = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out").last
tp first_in = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN").first
first_in = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN").first
c
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time: "00:00:00.000000".."04:30:30.000000").last
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: "04:30:30".."00:00:00").first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: "04:30:30".to_f.."11:59:59".to_f).first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: "04:30:30.000000".."00:00.000000").first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: 04:30:30.to_time..00:00:00.to_time).first
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time: "00:00:00.000000".."04:30:30.000000").last
tp last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time: "00:00:00.000000".to_time.."04:30:30.000000".to_time).last
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: 04:30:30.to_time..00:00:00.to_time).first
tp last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time: "00:00:00.000000".to_time.."04:30:30.000000".to_time).last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time: "00:00:00.000000".to_time.."04:30:30.000000".to_time).last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time: "00:00:00.000000".."04:30:30.000000").last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time: "00:00:00".."04:30:30").last
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: "04:30:30.000000".."00:00.000000").first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: 04:30:30.to_time..00:00:00.to_time).first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: "04:30:30".to_time.."00:00:00".to_time).first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: "04:30:30".to_time.."11:59:59".to_time).first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: "04:30:30".."00:00:00").first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: "04:30:30".to_time.."11:59:59".to_time).first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: "04:30:30".to_f.."11:59:59".to_f).first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: "04:30:30".."11:59:59").first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: "04:30:30".to_time.."11:59:59".to_time).first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: "04:30:30".to_datetime.."11:59:59".to_datetime).first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: "04:30:30".."11:59:59").first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: "04:30:30".to_time.."11:59:59".to_time).first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: "04:30:30".."11:59:59").first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: "04:30:30".."11:59:00").first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: "4:30:30".."11:59:00").first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: "04:30:30".."11:59:00").first
 first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN").first
tp first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN").first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN").first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: "04:30:30".."00:00:00").first
first_record
EmployeeAttendance.create(day: last.date,in_time: first_record.time.to_time,out_time: last_out_time,employee_id: employee.id,working_hrs: working_hrs.round(2),present: "P/2")
working_hrs = total_hrs/3600
total_hrs = last_out_time.to_f - first_in_time.to_f
working_hrs
tp last_out
tp first_in
first_in
employee_attendance = EmployeeAttendance.where(employee_id: employee.id,day: previous_date.to_date).take
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: "04:30:30".."00:00:00").first
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time: "00:00:00".."04:30:30").last
tp last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time: "00:00:00".."04:30:30").last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time: "00:00:00".."04:30:30").last
exit
c
tp  employee_attendance = EmployeeAttendance.where(day: previous_date.to_date).take
tp  employee_attendance = EmployeeAttendance.where(employee_id: da.employee_code).take
tp  employee_attendance = EmployeeAttendance.where(employee_id: da.employee_code,day: previous_date.to_date).take
 employee_attendance = EmployeeAttendance.where(employee_id: da.employee_code,day: previous_date.to_date).take
 previous_date = (da.date - 1).to_date
tp employee_daily_attendance = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date).first
employee_daily_attendance = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date).first
da
employee = Employee.find_by_manual_employee_code("da.employee_code")
employee = Employee.find_by_manual_employee_code(da.employee_code)
employee = Employee.find_by_manual_employee_code("da.employee_code")
da.employee_code
employee = Employee.find_by_manual_employee_code(da.employee_code)
employee = Employee.find_by_id(da.employee_code)
employee = Employee.find_by_manual_employee_code(da.employee_code)
da
employee = Employee.find_by_manual_employee_code(da.employee_code)

exit
hour.to_f
hour = Time.at(total_hrs).utc.strftime("%H:%M:%S")
Time.at(total_hrs).utc.strftime("%H:%M:%S")
Time.at(working_hrs).utc.strftime("%H:%M:%S")
working_hrs
working_hrs.to_time
working_hrs = total_hrs/3600
total_hrs = last_re - employee_attendance.in_time
last_re = last_record.time.to_time + 24*60*60

total_hrs.strftime('%I:%M')
total_hrs = last_re.to_time - employee_attendance.in_time.to_time
working_hrs = total_hrs.to_time/3600
total_hrs = last_re.to_time - employee_attendance.in_time.to_time
last_re = last_record.time.to_time + 24*60*60
employee_attendance = EmployeeAttendance.where(employee_id: employee.id,day: previous_date.to_date).take
exit
employee_attendance = EmployeeAttendance.where(employee_id: employee.id,day: previous_date.to_date).take
exit
 first_in = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN").first
first_in_time
exit
@employee = params[:employee]
@employee = params[:employee][:employee]
@date = params[:employee][:date]
exit
@employee = params[:employee_id]
@date = params[:date]
@employee = params[:employee][:employee_id]
@date = params[:employee][:date]
exit
DailyAttendance.where(date: date.to_date)
DailyAttendance.where(date: date)
date
DailyAttendance.where(date: date)
\
exit
date = params[:date]
exit
total_hrs
working_hrs = 9.72
working_hrs.round(2)
working_hrs.round(2).to_f
working_hrs.round(2).to_time
working_hrs.round(2)
working_hrs
working_hrs.round(2)
working_hrs
working_hrs = total_hrs/3600
working_hrs.to_f
working_hrs.to_time
working_hrs = total_hrs/3600
git 
exit
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time: start_time2..end_time2).last
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: start_time1..end_time1).first
exit
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: start_time1..end_time1).first
tp DailyAttendance.where(employee_code: 1170,date: "2017-06-06",reader_name: "Main Door Out",time: start_time2..end_time2)
DailyAttendance.find_by(sr_no: "152.0")
tp DailyAttendance.where(employee_code: 1170,date: "2017-06-06",reader_name: "Main Door Out",time: start_time2..end_time2)
tp DailyAttendance.where(employee_code: 1170,date: "2017-06-06",reader_name: "Main Door Out",time:'start_time2..end_time2')
tp DailyAttendance.where(employee_code: 1170,date: "2017-06-06",reader_name: "Main Door Out",time:start_time2..end_time2)
tp DailyAttendance.where(employee_code: 1170,date: "2017-06-06",reader_name: "Main Door Out",time: "start_time2".."end_time2")
tp DailyAttendance.where(employee_code: 1170,date: "2017-06-06",reader_name: "Main Door Out",time: start_time2..end_time2)
tp DailyAttendance.where(employee_code: 1170,date: "2017-06-06",reader_name: "Main Door Out")
DailyAttendance.where(employee_code: 1170,date: "2017-06-06",reader_name: "Main Door Out")
DailyAttendance.find_by(sr_no: "152.0")
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time: start_time2..end_time2).last
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: start_time1..end_time1).first
exit
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time: start_time2..end_time2).last
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: start_time1..end_time1).first
exit
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time: start_time2..end_time2).last
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: start_time1..end_time1).first
exit
tp  DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out")
 DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out")
 DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: start_time2..end_time2)
last_record
first_record
first_record.time
end_time2
end_time1
start_time2
start_time1
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: start_time2..end_time2)
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: start_time2..end_time2).last
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: start_time1..end_time1).first
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master_2.start_timelast_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master_2.start_time..@punch_master_2.end_time).last..@punch_master_2.end_time).last
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time.strftime("%H:%M:%S")..@punch_master.end_time.strftime("%H:%M:%S")).first
DailyAttendance.find_by(sr_no: "66.0")
DailyAttendance.find_by(sr_no: "4617.0")
DailyAttendance.find_by(sr_no: "4617")
DailyAttendance.find_by(sr_no: 4617)
DailyAttendance.last
tp first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time..@punch_master.end_time).first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time..@punch_master.end_time).first
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master_2.start_time..@punch_master_2.end_time).last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master_2.start_time..@punch_master_2.end_time)
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master_2.start_time..@punch_master_2.end_time).last
exit
tp last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
tp last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time)
tp last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
tp last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time:" @punch_master.end_time.to_time".."@punch_master.start_time.to_time").last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time:" @punch_master.end_time.to_time".."@punch_master.start_time.to_time").last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time.to_datetime..@punch_master.start_time.to_datetime).last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time.to_time..@punch_master.start_time.to_time).last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time:" @punch_master.end_time".."@punch_master.start_time").last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time.."@punch_master.start_time").last
tp DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out")
DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out")
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
exit
first_record_time
first_record_time = first_record.time.to_time
first_record.time.to_time
first_record
first_record_time
exit
last_out_time.to_time -  first_record_time
 first_record_time = first_record.time.to_time
last_out_time
 first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time..@punch_master.end_time).first
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
 first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time..@punch_master.end_time).first
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
 first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).firstexit
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: start_time1..end_time1).first
tp DailyAttendance.where(employee_code: 1170,date: "2017-06-06",reader_name: "Main Door Out",time: start_time2..end_time2)
DailyAttendance.find_by(sr_no: "152.0")
tp DailyAttendance.where(employee_code: 1170,date: "2017-06-06",reader_name: "Main Door Out",time: start_time2..end_time2)
tp DailyAttendance.where(employee_code: 1170,date: "2017-06-06",reader_name: "Main Door Out",time:'start_time2..end_time2')
tp DailyAttendance.where(employee_code: 1170,date: "2017-06-06",reader_name: "Main Door Out",time:start_time2..end_time2)
tp DailyAttendance.where(employee_code: 1170,date: "2017-06-06",reader_name: "Main Door Out",time: "start_time2".."end_time2")
tp DailyAttendance.where(employee_code: 1170,date: "2017-06-06",reader_name: "Main Door Out",time: start_time2..end_time2)
tp DailyAttendance.where(employee_code: 1170,date: "2017-06-06",reader_name: "Main Door Out")
DailyAttendance.where(employee_code: 1170,date: "2017-06-06",reader_name: "Main Door Out")
DailyAttendance.find_by(sr_no: "152.0")
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time: start_time2..end_time2).last
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: start_time1..end_time1).first
exit
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time: start_time2..end_time2).last
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: start_time1..end_time1).first
exit
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out",time: start_time2..end_time2).last
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door IN",time: start_time1..end_time1).first
exit
tp  DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out")
 DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out")
 DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: start_time2..end_time2)
last_record
first_record
first_record.time
end_time2
end_time1
start_time2
start_time1
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: start_time2..end_time2)
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: start_time2..end_time2).last
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: start_time1..end_time1).first
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master_2.start_timelast_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master_2.start_time..@punch_master_2.end_time).last..@punch_master_2.end_time).last
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time.strftime("%H:%M:%S")..@punch_master.end_time.strftime("%H:%M:%S")).first
DailyAttendance.find_by(sr_no: "66.0")
DailyAttendance.find_by(sr_no: "4617.0")
DailyAttendance.find_by(sr_no: "4617")
DailyAttendance.find_by(sr_no: 4617)
DailyAttendance.last
tp first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time..@punch_master.end_time).first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time..@punch_master.end_time).first
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master_2.start_time..@punch_master_2.end_time).last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master_2.start_time..@punch_master_2.end_time)
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master_2.start_time..@punch_master_2.end_time).last
exit
tp last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
tp last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time)
tp last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
tp last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time:" @punch_master.end_time.to_time".."@punch_master.start_time.to_time").last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time:" @punch_master.end_time.to_time".."@punch_master.start_time.to_time").last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time.to_datetime..@punch_master.start_time.to_datetime).last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time.to_time..@punch_master.start_time.to_time).last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time:" @punch_master.end_time".."@punch_master.start_time").last
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time.."@punch_master.start_time").last
tp DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out")
DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out")
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
exit
first_record_time
first_record_time = first_record.time.to_time
first_record.time.to_time
first_record
first_record_time
exit
last_out_time.to_time -  first_record_time
 first_record_time = first_record.time.to_time
last_out_time
 first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time..@punch_master.end_time).first
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
 first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time..@punch_master.end_time).first
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
 first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).first
 first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,time: @punch_master.end_time..@punch_master.start_time).first
 first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).first
 first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time..@punch_master.end_time).first
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
 first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time..@punch_master.end_time).first
tp first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time..@punch_master.end_time).first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time..@punch_master.end_time).first
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
exit
working_hrs.round(2)
working_hrs = 0
working_hrs.round(2)
working_hrs = nil
total/3600
total = last_record.time.to_time - first_record.time.to_time
total_hrs/3600
total_hrs = last_record.time.to_time - first_record.time.to_time
total_hrs/3600
total_hrs = 
last_out = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name: "Main Door Out").last
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time..@punch_master.end_time).first
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time: @punch_master.end_time..@punch_master.start_time).last
last_record
exit
tp first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time..@punch_master.end_time).first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time: @punch_master.start_time..@punch_master.end_time).first
@punch_master.start_time..@punch_master.end_time
@punch_master.end_time
@punch_master.start_time
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time:" @punch_master.start_time".."@punch_master.end_time").first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time:" @punch_master.start_time".." @punch_master.end_time").first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time:"@punch_master.start_time".."@punch_master.end_time").first
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN").first
@punch_master.start_time
tp @punch_master
@punch_master
first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time:" @punch_master.start_time".."@punch_master.end_time").first
first_record
last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door Out",time:" @punch_master.end_time".."@punch_master.start_time").last
first_record
tp last_record
exit
 first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time:" @punch_master.start_time".."@punch_master.end_time").first
tp first_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,reader_name:"Main Door IN",time:" @punch_master.start_time".."@punch_master.end_time").first
tp last_record = DailyAttendance.where(employee_code: da.employee_code,date: da.date.to_date,time:" @punch_master.end_time".."@punch_master.start_time").first
first_record
first_record_time
last_record_time

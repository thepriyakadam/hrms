<h6>Goal List</h6>
<%= bootstrap_form_for @employee_goal,url:{action:'is_confirm'} do |f| %>
  <%= f.hidden_field :employee_id,value: current_user.employee_id %>
  <table id="example2" class="table table-bordered table-hover table-condensed">
    <thead>
      <tr>
        <th><input type="checkbox" id="selectAll" value="selectAll"></th>
        <th>Period</th>
        <th>Type Of Objective</th>
        <th>Particular Of Objective</th>
        <th>Target/Unit</th>
        <th>Weightage(Total - <%=@employee_goals.sum(:goal_weightage)%>%)</th>
        <th>Aligned To Supervisor</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <% @employee_goals.each do |e| %>
        <tr>
          <td><%= check_box_tag "employee_goal_ids[]", e.id unless e.is_confirm %></td>
          <td><%= e.period.title %> <%= e.period.start_date %> <%= e.period.end_date %></td>
          <td><%= e.goal_perspective.name %></td>
          <td><%= e.goal_measure %></td>
          <td><%= e.target %></td>
          <td><%= e.goal_weightage %>%</td>
          <td><%= e.allign_to_supervisor %></td>
          <td>
            <% if e.is_confirm == true %>
            <small class="label label-info">Confirmed</small>
            <% else %>
              <%= link_to '', edit_employee_goal_path(e) ,class: 'btn btn-xs btn-success fa fa-edit',remote:true  %>
              <%= link_to '',  e, method: :delete, data: { confirm: 'Are you sure?',remote:true },class: 'btn btn-xs btn-danger fa fa-close' %>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <div class="row">
    <div class="col-sm-3">
      <div class="actions">
        <%= f.submit "Confirm Goal", class: 'btn btn-primary btn-sm' %> 
        <%= link_to 'Created Goals', show_list_employee_attributes_path,class: 'btn btn-warning btn-sm' %>
      </div>
    </div>
  </div>
<% end %>

<script type="text/javascript">
  $(function () {
    $('#selectAll').click(function() {
      if (this.checked) {
        $(':checkbox').each(function() {
          this.checked = true;                       
        });
      } 
      else {
        $(':checkbox').each(function() {
          this.checked = false;                        
        });
      } 
    });
  });
</script>